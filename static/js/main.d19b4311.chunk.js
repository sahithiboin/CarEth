(this.webpackJsonpcarEth=this.webpackJsonpcarEth||[]).push([[4],{1001:function(e,t){},1003:function(e,t){},1132:function(e,t){},1134:function(e,t){},1141:function(e,t){},1142:function(e,t){},1158:function(e,t){},1160:function(e,t){},1168:function(e,t){},1179:function(e,t){},1240:function(e,t,c){},1256:function(e,t,c){},1257:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(153),i=c.n(s),r=(c(608),c(25)),l=c(26),o=(c(609),c(154)),j=c.p+"static/media/Leh1.4d2610ed.jpg",d=c.p+"static/media/CarEth_white.9dda6b19.png",u=c(60),b=c(4),O=function(){var e=Object(n.useState)(new Date),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(new Date),i=Object(l.a)(s,2),r=i[0],O=i[1],h=Object(n.useState)("New York"),f=Object(l.a)(h,2),p=f[0],x=f[1],m=Object(n.useState)("Electric"),v=Object(l.a)(m,2),g=v[0],N=v[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container",style:{backgroundImage:"url(".concat(j,")")},children:[Object(b.jsx)("div",{className:"containerGradient"}),Object(b.jsxs)("div",{className:"topBanner",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"logo",src:d,alt:"logo"})}),Object(b.jsxs)("div",{className:"tabs",children:[Object(b.jsx)("div",{className:"selected",children:"Available Cities"}),Object(b.jsx)("div",{children:"Experiences"}),Object(b.jsx)("div",{children:"Online Experiences"})]}),Object(b.jsx)("div",{className:"lrContainers",children:Object(b.jsx)(u.c,{})})]}),Object(b.jsx)("div",{className:"tabContent",children:Object(b.jsxs)("div",{className:"searchFields",children:[Object(b.jsxs)("div",{className:"inputs",children:["Location",Object(b.jsx)(u.h,{defaultOptionIndex:0,onChange:function(e){return x(e.label)},options:[{id:"ny",label:"New York"},{id:"aus",label:"Austin"},{id:"nj",label:"New Jersey"},{id:"hyd",label:"Hyderabad"}]})]}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"inputs",children:["Pickup Date",Object(b.jsx)(u.d,{id:"pickUpDate",onChange:function(e){return a(e.date)}})]}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"inputs",children:["Return Date",Object(b.jsx)(u.d,{id:"returnDate",onChange:function(e){return O(e.date)}})]}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"inputs",children:["Type of Car",Object(b.jsx)(u.h,{defaultOptionIndex:0,onChange:function(e){return N(e.label)},options:[{id:"sedan",label:"Sedan"},{id:"SUV",label:"SUV"},{id:"compact",label:"Compact"},{id:"Electric",label:"Electric"}]})]}),Object(b.jsx)(o.b,{to:"/rentals",state:{location:p,pickUpDate:c,returnDate:r,cartype:g},children:Object(b.jsx)("div",{className:"searchButton",children:Object(b.jsx)(u.e,{fill:"#ffffff",size:24,svg:"search"})})})]})}),Object(b.jsxs)("div",{className:"randomLocation",children:[Object(b.jsx)("div",{className:"title",children:"Feel Adventurous"}),Object(b.jsx)("div",{className:"text",children:"Let us decide and dicover new roads to drive."}),Object(b.jsx)(u.a,{text:"Explore the cars",onClick:function(){return console.log(r)}})]})]})})},h=c(8),f=c(1),p=c.n(f),x=(c(1240),c.p+"static/media/CarEth_black.942d2358.png"),m=c(262);var v=Object(m.GoogleApiWrapper)({apiKey:""})((function(e){var t=e.locations,c=e.google,a=e.setHighLight,s=Object(n.useState)(),i=Object(l.a)(s,2),r=i[0],o=i[1];return Object(n.useEffect)((function(){var e=Object.keys(t),c=e.reduce((function(e,c){return e+Number(t[c].lat)}),0)/e.length,n=e.reduce((function(e,c){return e+Number(t[c].lng)}),0)/e.length;o({lat:c,lng:n})}),[t]),Object(b.jsx)(b.Fragment,{children:r&&Object(b.jsx)(m.Map,{google:c,containerStyle:{width:"50vw",height:"calc(100vh - 135px)"},center:r,initialCenter:t[0],zoom:13,disabledDefaultUI:!0,children:t.map((function(e,t){return Object(b.jsx)(m.Marker,{position:e,onClick:function(){return a(t)}})}))})})})),g=c(88);var N=function(e){var t=e.account,c=Object(n.useState)(!1),a=Object(l.a)(c,2),s=a[0],i=a[1],r=Object(g.b)().Moralis,o=Object(n.useState)(),j=Object(l.a)(o,2),d=j[0],O=j[1];return Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(p.a.mark((function e(){var c,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.Object.extend("newBookings"),(n=new r.Query(c)).equalTo("booker",t),e.next=5,n.find();case 5:a=e.sent,O(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{onClick:function(){return i(!0)},children:Object(b.jsx)(u.e,{fill:"#000000",size:24,svg:"user"})}),Object(b.jsx)(u.f,{onCloseButtonPressed:function(){return i(!1)},hasFooter:!1,title:"Your Cars",isVisible:s,children:Object(b.jsx)("div",{style:{display:"flex",justifyContent:"start",flexWrap:"wrap",gap:"10px"},children:d&&d.map((function(e){return Object(b.jsx)("div",{style:{width:"200px"},children:Object(b.jsx)(u.b,{isDisabled:!0,title:e.attributes.city,description:"".concat(e.attributes.datesBooked[0]," for ").concat(e.attributes.datesBooked.length," Days"),children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{width:"180px",src:e.attributes.imgUrl})})})})}))})})]})},y=function(){var e=Object(r.e)().state,t=Object(n.useState)(),c=Object(l.a)(t,2),a=c[0],s=c[1],i=Object(g.b)(),j=i.Moralis,d=i.account,O=Object(n.useState)(),f=Object(l.a)(O,2),m=f[0],y=f[1],k=Object(n.useState)([]),D=Object(l.a)(k,2),w=D[0],C=D[1],S=Object(g.d)(),B=Object(u.i)();Object(n.useEffect)((function(){function t(){return t=Object(h.a)(p.a.mark((function t(){var c,n,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=j.Object.extend("Rentals"),(n=new j.Query(c)).equalTo("city",e.location),n.equalTo("cartype",e.cartype),t.next=6,n.find();case 6:a=t.sent,s=[],a.forEach((function(e){s.push({lat:e.attributes.lat,lng:e.attributes.long})})),C(s),y(a);case 11:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var E=function(){var t=Object(h.a)(p.a.mark((function t(c,n,a,s){var i,r,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=[],r=new Date(c);r<=n;r.setDate(r.getDate()+1))i.push(new Date(r).toISOString().slice(0,10));return l={contractAddress:"0x0712BFcf499cB258217bed8AE1D378695e0d6F37",functionName:"addDatesBooked",abi:[{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string[]",name:"newBookings",type:"string[]"}],name:"addDatesBooked",outputs:[],stateMutability:"payable",type:"function"}],params:{id:a,newBookings:i},msgValue:j.Units.ETH(.01*s*i.length)},console.log(i),t.next=5,S.fetch({params:l,onSuccess:function(){B({type:"success",message:"Nice! You can pick up the car from ".concat(e.location,"!!"),title:"Booking Succesful",position:"topl"})},onError:function(e){var t;t=e.data.message,B({type:"error",message:"".concat(t),title:"Booking failed",position:"topl"})}});case 5:case"end":return t.stop()}}),t)})));return function(e,c,n,a){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"topBanner",children:[Object(b.jsx)("div",{children:Object(b.jsx)(o.b,{to:"/",children:Object(b.jsx)("img",{className:"logo",src:x,alt:"logo"})})}),Object(b.jsxs)("div",{className:"searchReminder",children:[Object(b.jsx)("div",{className:"filter",children:e.location}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsx)("div",{className:"filter",children:"\n           ".concat(e.pickUpDate.toLocaleString("default",{month:"short"})," \n           ").concat(e.pickUpDate.toLocaleString("default",{day:"2-digit"})," \n           - \n           ").concat(e.returnDate.toLocaleString("default",{month:"short"})," \n           ").concat(e.returnDate.toLocaleString("default",{day:"2-digit"}),"\n          ")}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"filter",children:[e.cartype," Car Type"]}),Object(b.jsx)("div",{className:"searchFiltersIcon",children:Object(b.jsx)(u.e,{fill:"#ffffff",size:20,svg:"search"})})]}),Object(b.jsxs)("div",{className:"lrContainers",children:[d&&Object(b.jsx)(N,{account:d}),Object(b.jsx)(u.c,{})]})]}),Object(b.jsx)("hr",{className:"line"}),Object(b.jsxs)("div",{className:"rentalsContent",children:[Object(b.jsxs)("div",{className:"rentalsContentL",children:["Available For Your Location",m&&m.map((function(t,c){var n=t.attributes.pricePerday/100;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("hr",{className:"line2"}),Object(b.jsxs)("div",{className:a==c?"rentalDivH":"rentalDiv",children:[Object(b.jsx)("img",{className:"rentalImg",src:t.attributes.imgUrl}),Object(b.jsxs)("div",{className:"rentalInfo",children:[Object(b.jsx)("div",{className:"rentalTitle",children:t.attributes.name}),Object(b.jsx)("div",{className:"rentalDesc",children:t.attributes.unoDescription}),Object(b.jsx)("div",{className:"rentalDesc",children:t.attributes.dosDescription}),Object(b.jsxs)("div",{className:"bottomButton",children:[Object(b.jsx)(u.a,{onClick:function(){d?E(e.pickUpDate,e.returnDate,t.attributes.uid_decimal.value.$numberDecimal,Number(t.attributes.pricePerday_decimal.value.$numberDecimal)):B({type:"error",message:"You need to connect to your wallet to book a car rental",title:"Not Connected",position:"topL"})},text:"Pickup This Car"}),Object(b.jsxs)("div",{className:"price",children:[Object(b.jsx)(u.e,{fill:"#808080",size:10,svg:"eth"})," ",n," / Day"]})]})]})]})]})}))]}),Object(b.jsx)("div",{className:"rentalsContentR",children:Object(b.jsx)(v,{locations:w,setHighLight:s})})]})]})},k=(c(1256),function(){return Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{path:"/",element:Object(b.jsx)(O,{})}),Object(b.jsx)(r.a,{path:"/rentals",element:Object(b.jsx)(y,{})})]})}),D=function(e){e&&e instanceof Function&&c.e(18).then(c.bind(null,1522)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g.a,{appId:"nmISsBPUpUfSK3PGr7FjW3O8xl0An1PIpThcn6QB",serverUrl:"https://upks5esbcewi.usemoralis.com:2053/server",children:Object(b.jsx)(u.g,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(k,{})})})})}),document.getElementById("root")),D()},608:function(e,t,c){},609:function(e,t,c){},876:function(e,t){},906:function(e,t){},947:function(e,t){},949:function(e,t){},969:function(e,t){},971:function(e,t){},983:function(e,t){},999:function(e,t){}},[[1257,5,6]]]);
//# sourceMappingURL=main.d19b4311.chunk.js.map