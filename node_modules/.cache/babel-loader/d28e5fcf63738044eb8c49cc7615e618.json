{"ast":null,"code":"import _asyncToGenerator from\"/Users/satheeshkumarb/careth backup copy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/satheeshkumarb/careth backup copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/satheeshkumarb/careth backup copy/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{Icon,Modal,Card}from\"web3uikit\";import{useState,useEffect}from\"react\";import{useMoralis}from\"react-moralis\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function User(_ref){var account=_ref.account;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setVisible=_useState2[1];var _useMoralis=useMoralis(),Moralis=_useMoralis.Moralis;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),useRentals=_useState4[0],setUserRentals=_useState4[1];useEffect(function(){function fetchRentals(){return _fetchRentals.apply(this,arguments);}function _fetchRentals(){_fetchRentals=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var Rentals,query,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Rentals=Moralis.Object.extend(\"newBookings\");query=new Moralis.Query(Rentals);query.equalTo(\"booker\",account);_context.next=5;return query.find();case 5:result=_context.sent;setUserRentals(result);case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchRentals.apply(this,arguments);}fetchRentals();},[isVisible]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setVisible(true);},children:/*#__PURE__*/_jsx(Icon,{fill:\"#000000\",size:24,svg:\"user\"})}),/*#__PURE__*/_jsx(Modal,{onCloseButtonPressed:function onCloseButtonPressed(){return setVisible(false);},hasFooter:false,title:\"Your Cars\",isVisible:isVisible,children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"start\",flexWrap:\"wrap\",gap:\"10px\"},children:useRentals&&useRentals.map(function(e){return/*#__PURE__*/_jsx(\"div\",{style:{width:\"200px\"},children:/*#__PURE__*/_jsx(Card,{isDisabled:true,title:e.attributes.city,description:\"\".concat(e.attributes.datesBooked[0],\" for \").concat(e.attributes.datesBooked.length,\" Days\"),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{width:\"180px\",src:e.attributes.imgUrl})})})});})})})]});}export default User;","map":{"version":3,"sources":["/Users/satheeshkumarb/careth backup copy/src/components/User.js"],"names":["React","Icon","Modal","Card","useState","useEffect","useMoralis","User","account","isVisible","setVisible","Moralis","useRentals","setUserRentals","fetchRentals","Rentals","Object","extend","query","Query","equalTo","find","result","display","justifyContent","flexWrap","gap","map","e","width","attributes","city","datesBooked","length","imgUrl"],"mappings":"6XAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,IAAtB,KAAkC,WAAlC,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAAQC,UAAR,KAAyB,eAAzB,C,6IAEA,QAASC,CAAAA,IAAT,MAAyB,IAAVC,CAAAA,OAAU,MAAVA,OAAU,CAEvB,cAAgCJ,QAAQ,CAAC,KAAD,CAAxC,wCAAOK,SAAP,eAAkBC,UAAlB,eACA,gBAAoBJ,UAAU,EAA9B,CAAQK,OAAR,aAAQA,OAAR,CACA,eAAqCP,QAAQ,EAA7C,yCAAOQ,UAAP,eAAmBC,cAAnB,eAEAR,SAAS,CAAC,UAAM,SACCS,CAAAA,YADD,8IACd,4JACQC,OADR,CACkBJ,OAAO,CAACK,MAAR,CAAeC,MAAf,CAAsB,aAAtB,CADlB,CAEQC,KAFR,CAEgB,GAAIP,CAAAA,OAAO,CAACQ,KAAZ,CAAkBJ,OAAlB,CAFhB,CAGEG,KAAK,CAACE,OAAN,CAAc,QAAd,CAAwBZ,OAAxB,EAHF,sBAIuBU,CAAAA,KAAK,CAACG,IAAN,EAJvB,QAIQC,MAJR,eAMET,cAAc,CAACS,MAAD,CAAd,CANF,sDADc,+CASdR,YAAY,GACb,CAVQ,CAUN,CAACL,SAAD,CAVM,CAAT,CAYA,mBACE,wCACE,YAAK,OAAO,CAAE,yBAAMC,CAAAA,UAAU,CAAC,IAAD,CAAhB,EAAd,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,CAAqB,IAAI,CAAE,EAA3B,CAA+B,GAAG,CAAC,MAAnC,EADF,EADF,cAKE,KAAC,KAAD,EACE,oBAAoB,CAAE,sCAAMA,CAAAA,UAAU,CAAC,KAAD,CAAhB,EADxB,CAEE,SAAS,CAAI,KAFf,CAGE,KAAK,CAAG,WAHV,CAIE,SAAS,CAAID,SAJf,uBAME,YAAK,KAAK,CAAE,CAACc,OAAO,CAAC,MAAT,CAAiBC,cAAc,CAAE,OAAjC,CAA0CC,QAAQ,CAAC,MAAnD,CAA2DC,GAAG,CAAC,MAA/D,CAAZ,UACGd,UAAU,EACXA,UAAU,CAACe,GAAX,CAAe,SAACC,CAAD,CAAM,CACnB,mBACE,YAAK,KAAK,CAAI,CAAEC,KAAK,CAAE,OAAT,CAAd,uBACE,KAAC,IAAD,EACE,UAAU,KADZ,CAEE,KAAK,CAAID,CAAC,CAACE,UAAF,CAAaC,IAFxB,CAGE,WAAW,WAAKH,CAAC,CAACE,UAAF,CAAaE,WAAb,CAAyB,CAAzB,CAAL,iBAAwCJ,CAAC,CAACE,UAAF,CAAaE,WAAb,CAAyBC,MAAjE,SAHb,uBAKI,kCACE,YACE,KAAK,CAAC,OADR,CAEE,GAAG,CAAEL,CAAC,CAACE,UAAF,CAAaI,MAFpB,EADF,EALJ,EADF,EADF,CAgBC,CAjBH,CAFF,EANF,EALF,GADF,CAsCD,CAED,cAAe3B,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport { Icon, Modal, Card } from \"web3uikit\";\nimport { useState, useEffect } from \"react\";\nimport {useMoralis} from \"react-moralis\";\n\nfunction User({account}) {\n\n  const [isVisible, setVisible] = useState(false);\n  const { Moralis } = useMoralis();\n  const [useRentals, setUserRentals] = useState();\n\n  useEffect(() => {\n    async function fetchRentals() {\n      const Rentals = Moralis.Object.extend(\"newBookings\");\n      const query = new Moralis.Query(Rentals);\n      query.equalTo(\"booker\", account);\n      const result = await query.find();\n\n      setUserRentals(result);\n    }\n    fetchRentals();\n  }, [isVisible]);\n\n  return (\n    <>\n      <div onClick={() => setVisible(true)}>\n        <Icon fill=\"#000000\" size={24} svg=\"user\" />\n      </div>\n\n      <Modal\n        onCloseButtonPressed={() => setVisible(false)}\n        hasFooter = {false}\n        title = \"Your Cars\" \n        isVisible = {isVisible}\n      >\n        <div style={{display:\"flex\", justifyContent: \"start\", flexWrap:\"wrap\", gap:\"10px\"}}>\n          {useRentals &&\n          useRentals.map((e) =>{\n            return(\n              <div style = {{ width: \"200px\"}}>\n                <Card\n                  isDisabled\n                  title = {e.attributes.city}\n                  description={`${e.attributes.datesBooked[0]} for ${e.attributes.datesBooked.length} Days`}\n                  >\n                    <div>\n                      <img\n                        width=\"180px\"\n                        src={e.attributes.imgUrl}\n                        />\n                    </div>\n                  </Card>\n                </div>\n              )\n            })\n          }\n        </div>\n\n      </Modal>\n    </>\n  );\n}\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}